{"version":3,"sources":["webpack:///./node_modules/gatsby-image/index.js","webpack:///./src/components/image.tsx","webpack:///./node_modules/@babel/runtime/helpers/esm/taggedTemplateLiteralLoose.js","webpack:///./src/pages/index.tsx","webpack:///./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"],"names":["_interopRequireDefault","require","exports","__esModule","default","io","_assertThisInitialized2","_inheritsLoose2","_objectWithoutPropertiesLoose2","_extends2","_react","_propTypes","convertProps","props","convertedProps","resolutions","sizes","critical","fixed","fluid","loading","groupByMedia","concat","matchesMedia","_ref","media","isBrowser","window","matchMedia","matches","getImageSrcKey","_ref2","getCurrentSrcData","src","currentData","Array","isArray","some","image","hasArtDirectionSupport","foundMedia","findIndex","noMedia","imageCache","Object","create","inImageCache","hasNativeLazyLoadSupport","HTMLImageElement","prototype","hasIOSupport","IntersectionObserver","listeners","WeakMap","generateImageSources","imageVariants","map","_ref3","srcSet","srcSetWebp","createElement","Fragment","key","type","withMedia","without","forEach","variant","push","generateTracedSVGSources","_ref4","tracedSVG","generateBase64Sources","_ref5","base64","generateNoscriptSource","_ref6","isWebp","listenToIntersections","el","cb","observer","entries","entry","has","target","get","isIntersecting","intersectionRatio","unobserve","delete","rootMargin","observe","set","noscriptImg","title","alt","width","height","crossOrigin","draggable","join","Placeholder","forwardRef","ref","generateSources","spreadProps","ariaHidden","baseImage","Img","length","style","onLoad","onError","otherProps","position","top","left","objectFit","objectPosition","propTypes","object","func","Image","_React$Component","_this","call","this","seenBefore","isCritical","addNoScript","fadeIn","useIOSupport","isVisible","state","imgLoaded","imgCached","imageRef","createRef","placeholderRef","handleImageLoaded","bind","handleRef","_proto","componentDidMount","onStartLoad","wasCached","img","current","complete","componentWillUnmount","cleanUpListeners","_this2","imageInCache","setState","currentSrc","render","_convertProps","className","_convertProps$style","_convertProps$imgStyl","imgStyle","_convertProps$placeho","placeholderStyle","placeholderClassName","backgroundColor","durationFadeIn","Tag","itemProp","shouldReveal","shouldFadeIn","imageStyle","opacity","transition","bgColor","delayHideStyle","transitionDelay","imagePlaceholderStyle","placeholderImageProps","overflow","maxWidth","maxHeight","JSON","stringify","paddingBottom","aspectRatio","bottom","right","dangerouslySetInnerHTML","__html","_imageVariants","_image","divStyle","display","Component","defaultProps","fixedObject","shape","number","isRequired","string","srcWebp","fluidObject","oneOfType","arrayOf","bool","oneOf","_default","data","placeholderImage","childImageSharp","strings","raw","slice","pageQuery","APOLLO_QUERY","gql","CSRTest","error","textAlign","margin","fontFamily","message","meme","photo","url","IndexPage","siteTitle","location","site","siteMetadata","posts","allMarkdownRemark","edges","apolloQuery","useQuery","pathname","marginBottom","boxShadow","to","node","frontmatter","fields","slug","rhythm","date","description","excerpt","color","OperationData","options","context","isMounted","previousOptions","getOptions","setOptions","newOptions","storePrevious","unmount","refreshClient","client","isNew","cleanup","verifyDocumentType","document","operation","QueryData","_super","_a","onNewData","previousData","currentObservable","runLazy","runLazyQuery","lazyOptions","getExecuteResult","result","getQueryResult","startQuerySubscription","obsRefetch","variables","query","refetch","obsFetchMore","fetchMoreOptions","fetchMore","obsUpdateQuery","mapFn","updateQuery","obsStartPolling","pollInterval","startPolling","obsStopPolling","stopPolling","obsSubscribeToMore","subscribeToMore","execute","skip","removeQuerySubscription","updateObservableQuery","getExecuteSsrResult","executeLazy","networkStatus","ready","called","undefined","fetchData","ssr","obs","getCurrentResult","afterExecute","_b","lazy","handleErrorOrCompleted","ssrInitiated","renderPromises","ssrDisabled","fetchDisabled","disableNetworkFetches","ssrLoading","stale","observableQueryFields","addQueryPromise","prepareObservableQueryOptions","Query","displayName","fetchPolicy","metadata","reactComponent","initializeObservableQuery","getSSRObservable","observableQueryOptions","children","watchQuery","registerSSRObservable","newObservableQueryOptions","catch","subscription","obsQuery","subscribe","next","previousResult","_error","resubscribeToQuery","hasOwnProperty","lastError","getLastError","lastResult","getLastResult","resetLastResults","assign","currentResult","partial","errors","graphQLErrors","partialRefetch","resetQueryStoreErrors","onCompleted","unsubscribe","useBaseQuery","x","tick","forceUpdate","updatedOptions","queryDataRef","queryData","Promise","resolve","then","memoFn","memo","value","queryResult","MutationData","setResult","runMutation","mutationFunctionOptions","onMutationStart","mutationId","generateNewMutationId","mutate","response","onMutationCompleted","onMutationError","mutation","Mutation","mostRecentMutationId","optimisticResponse","update","mutationContext","_c","awaitRefetchQueries","mutateOptions","mutateVariables","refetchQueries","ignoreResults","updateResult","isMostRecentMutation","SubscriptionData","initialize","getLoadingResult","shouldResubscribe","keys","startSubscription","endSubscription","updateCurrentData","updateError","completeSubscription","onSubscriptionData","subscriptionData","onSubscriptionComplete","RenderPromises","queryPromises","Map","queryInfoTrie","observable","lookupQueryInfo","queryInstance","finish","seen","hasPromises","size","consumeAndAwaitPromises","promises","promise","clear","all","varMap","variablesString","info"],"mappings":"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","file":"component---src-pages-index-tsx-e80c25931ff6e4d62542.js","sourcesContent":["\"use strict\";\n\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\");\n\nexports.__esModule = true;\nexports.default = void 0;\n\nvar _assertThisInitialized2 = _interopRequireDefault(require(\"@babel/runtime/helpers/assertThisInitialized\"));\n\nvar _inheritsLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/inheritsLoose\"));\n\nvar _objectWithoutPropertiesLoose2 = _interopRequireDefault(require(\"@babel/runtime/helpers/objectWithoutPropertiesLoose\"));\n\nvar _extends2 = _interopRequireDefault(require(\"@babel/runtime/helpers/extends\"));\n\nvar _react = _interopRequireDefault(require(\"react\"));\n\nvar _propTypes = _interopRequireDefault(require(\"prop-types\"));\n\nvar logDeprecationNotice = function logDeprecationNotice(prop, replacement) {\n  if (process.env.NODE_ENV === \"production\") {\n    return;\n  }\n\n  console.log(\"\\n    The \\\"\" + prop + \"\\\" prop is now deprecated and will be removed in the next major version\\n    of \\\"gatsby-image\\\".\\n    \");\n\n  if (replacement) {\n    console.log(\"Please use \" + replacement + \" instead of \\\"\" + prop + \"\\\".\");\n  }\n}; // Handle legacy props during their deprecation phase\n\n\nvar convertProps = function convertProps(props) {\n  var convertedProps = (0, _extends2.default)({}, props);\n  var resolutions = convertedProps.resolutions,\n      sizes = convertedProps.sizes,\n      critical = convertedProps.critical;\n\n  if (resolutions) {\n    convertedProps.fixed = resolutions;\n    delete convertedProps.resolutions;\n  }\n\n  if (sizes) {\n    convertedProps.fluid = sizes;\n    delete convertedProps.sizes;\n  }\n\n  if (critical) {\n    logDeprecationNotice(\"critical\", \"the native \\\"loading\\\" attribute\");\n    convertedProps.loading = \"eager\";\n  } // convert fluid & fixed to arrays so we only have to work with arrays\n\n\n  if (convertedProps.fluid) {\n    convertedProps.fluid = groupByMedia([].concat(convertedProps.fluid));\n  }\n\n  if (convertedProps.fixed) {\n    convertedProps.fixed = groupByMedia([].concat(convertedProps.fixed));\n  }\n\n  return convertedProps;\n};\n/**\n * Checks if fluid or fixed are art-direction arrays.\n *\n * @param currentData  {{media?: string}[]}   The props to check for images.\n * @return {boolean}\n */\n\n\nvar hasArtDirectionSupport = function hasArtDirectionSupport(currentData) {\n  return !!currentData && Array.isArray(currentData) && currentData.some(function (image) {\n    return typeof image.media !== \"undefined\";\n  });\n};\n/**\n * Tries to detect if a media query matches the current viewport.\n * @property media   {{media?: string}}  A media query string.\n * @return {boolean}\n */\n\n\nvar matchesMedia = function matchesMedia(_ref) {\n  var media = _ref.media;\n  return media ? isBrowser && !!window.matchMedia(media).matches : false;\n};\n/**\n * Find the source of an image to use as a key in the image cache.\n * Use `the first image in either `fixed` or `fluid`\n * @param {{fluid: {src: string, media?: string}[], fixed: {src: string, media?: string}[]}} args\n * @return {string}\n */\n\n\nvar getImageSrcKey = function getImageSrcKey(_ref2) {\n  var fluid = _ref2.fluid,\n      fixed = _ref2.fixed;\n  var data = fluid ? getCurrentSrcData(fluid) : getCurrentSrcData(fixed);\n  return data.src;\n};\n/**\n * Returns the current src - Preferably with art-direction support.\n * @param currentData  {{media?: string}[], maxWidth?: Number, maxHeight?: Number}   The fluid or fixed image array.\n * @return {{src: string, media?: string, maxWidth?: Number, maxHeight?: Number}}\n */\n\n\nvar getCurrentSrcData = function getCurrentSrcData(currentData) {\n  if (isBrowser && hasArtDirectionSupport(currentData)) {\n    // Do we have an image for the current Viewport?\n    var foundMedia = currentData.findIndex(matchesMedia);\n\n    if (foundMedia !== -1) {\n      return currentData[foundMedia];\n    } // No media matches, select first element without a media condition\n\n\n    var noMedia = currentData.findIndex(function (image) {\n      return typeof image.media === \"undefined\";\n    });\n\n    if (noMedia !== -1) {\n      return currentData[noMedia];\n    }\n  } // Else return the first image.\n\n\n  return currentData[0];\n}; // Cache if we've seen an image before so we don't bother with\n// lazy-loading & fading in on subsequent mounts.\n\n\nvar imageCache = Object.create({});\n\nvar inImageCache = function inImageCache(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  return imageCache[src] || false;\n};\n\nvar activateCacheForImage = function activateCacheForImage(props) {\n  var convertedProps = convertProps(props); // Find src\n\n  var src = getImageSrcKey(convertedProps);\n  imageCache[src] = true;\n}; // Native lazy-loading support: https://addyosmani.com/blog/lazy-loading/\n\n\nvar hasNativeLazyLoadSupport = typeof HTMLImageElement !== \"undefined\" && \"loading\" in HTMLImageElement.prototype;\nvar isBrowser = typeof window !== \"undefined\";\nvar hasIOSupport = isBrowser && window.IntersectionObserver;\nvar io;\nvar listeners = new WeakMap();\n\nfunction getIO() {\n  if (typeof io === \"undefined\" && typeof window !== \"undefined\" && window.IntersectionObserver) {\n    io = new window.IntersectionObserver(function (entries) {\n      entries.forEach(function (entry) {\n        if (listeners.has(entry.target)) {\n          var cb = listeners.get(entry.target); // Edge doesn't currently support isIntersecting, so also test for an intersectionRatio > 0\n\n          if (entry.isIntersecting || entry.intersectionRatio > 0) {\n            io.unobserve(entry.target);\n            listeners.delete(entry.target);\n            cb();\n          }\n        }\n      });\n    }, {\n      rootMargin: \"200px\"\n    });\n  }\n\n  return io;\n}\n\nfunction generateImageSources(imageVariants) {\n  return imageVariants.map(function (_ref3) {\n    var src = _ref3.src,\n        srcSet = _ref3.srcSet,\n        srcSetWebp = _ref3.srcSetWebp,\n        media = _ref3.media,\n        sizes = _ref3.sizes;\n    return /*#__PURE__*/_react.default.createElement(_react.default.Fragment, {\n      key: src\n    }, srcSetWebp && /*#__PURE__*/_react.default.createElement(\"source\", {\n      type: \"image/webp\",\n      media: media,\n      srcSet: srcSetWebp,\n      sizes: sizes\n    }), /*#__PURE__*/_react.default.createElement(\"source\", {\n      media: media,\n      srcSet: srcSet,\n      sizes: sizes\n    }));\n  });\n} // Return an array ordered by elements having a media prop, does not use\n// native sort, as a stable sort is not guaranteed by all browsers/versions\n\n\nfunction groupByMedia(imageVariants) {\n  var withMedia = [];\n  var without = [];\n  imageVariants.forEach(function (variant) {\n    return (variant.media ? withMedia : without).push(variant);\n  });\n\n  if (without.length > 1 && process.env.NODE_ENV !== \"production\") {\n    console.warn(\"We've found \" + without.length + \" sources without a media property. They might be ignored by the browser, see: https://www.gatsbyjs.org/packages/gatsby-image/#art-directing-multiple-images\");\n  }\n\n  return [].concat(withMedia, without);\n}\n\nfunction generateTracedSVGSources(imageVariants) {\n  return imageVariants.map(function (_ref4) {\n    var src = _ref4.src,\n        media = _ref4.media,\n        tracedSVG = _ref4.tracedSVG;\n    return /*#__PURE__*/_react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: tracedSVG\n    });\n  });\n}\n\nfunction generateBase64Sources(imageVariants) {\n  return imageVariants.map(function (_ref5) {\n    var src = _ref5.src,\n        media = _ref5.media,\n        base64 = _ref5.base64;\n    return /*#__PURE__*/_react.default.createElement(\"source\", {\n      key: src,\n      media: media,\n      srcSet: base64\n    });\n  });\n}\n\nfunction generateNoscriptSource(_ref6, isWebp) {\n  var srcSet = _ref6.srcSet,\n      srcSetWebp = _ref6.srcSetWebp,\n      media = _ref6.media,\n      sizes = _ref6.sizes;\n  var src = isWebp ? srcSetWebp : srcSet;\n  var mediaAttr = media ? \"media=\\\"\" + media + \"\\\" \" : \"\";\n  var typeAttr = isWebp ? \"type='image/webp' \" : \"\";\n  var sizesAttr = sizes ? \"sizes=\\\"\" + sizes + \"\\\" \" : \"\";\n  return \"<source \" + typeAttr + mediaAttr + \"srcset=\\\"\" + src + \"\\\" \" + sizesAttr + \"/>\";\n}\n\nfunction generateNoscriptSources(imageVariants) {\n  return imageVariants.map(function (variant) {\n    return (variant.srcSetWebp ? generateNoscriptSource(variant, true) : \"\") + generateNoscriptSource(variant);\n  }).join(\"\");\n}\n\nvar listenToIntersections = function listenToIntersections(el, cb) {\n  var observer = getIO();\n\n  if (observer) {\n    observer.observe(el);\n    listeners.set(el, cb);\n  }\n\n  return function () {\n    observer.unobserve(el);\n    listeners.delete(el);\n  };\n};\n\nvar noscriptImg = function noscriptImg(props) {\n  // Check if prop exists before adding each attribute to the string output below to prevent\n  // HTML validation issues caused by empty values like width=\"\" and height=\"\"\n  var src = props.src ? \"src=\\\"\" + props.src + \"\\\" \" : \"src=\\\"\\\" \"; // required attribute\n\n  var sizes = props.sizes ? \"sizes=\\\"\" + props.sizes + \"\\\" \" : \"\";\n  var srcSet = props.srcSet ? \"srcset=\\\"\" + props.srcSet + \"\\\" \" : \"\";\n  var title = props.title ? \"title=\\\"\" + props.title + \"\\\" \" : \"\";\n  var alt = props.alt ? \"alt=\\\"\" + props.alt + \"\\\" \" : \"alt=\\\"\\\" \"; // required attribute\n\n  var width = props.width ? \"width=\\\"\" + props.width + \"\\\" \" : \"\";\n  var height = props.height ? \"height=\\\"\" + props.height + \"\\\" \" : \"\";\n  var crossOrigin = props.crossOrigin ? \"crossorigin=\\\"\" + props.crossOrigin + \"\\\" \" : \"\";\n  var loading = props.loading ? \"loading=\\\"\" + props.loading + \"\\\" \" : \"\";\n  var draggable = props.draggable ? \"draggable=\\\"\" + props.draggable + \"\\\" \" : \"\";\n  var sources = generateNoscriptSources(props.imageVariants);\n  return \"<picture>\" + sources + \"<img \" + loading + width + height + sizes + srcSet + src + alt + title + crossOrigin + draggable + \"style=\\\"position:absolute;top:0;left:0;opacity:1;width:100%;height:100%;object-fit:cover;object-position:center\\\"/></picture>\";\n}; // Earlier versions of gatsby-image during the 2.x cycle did not wrap\n// the `Img` component in a `picture` element. This maintains compatibility\n// until a breaking change can be introduced in the next major release\n\n\nvar Placeholder = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  var src = props.src,\n      imageVariants = props.imageVariants,\n      generateSources = props.generateSources,\n      spreadProps = props.spreadProps,\n      ariaHidden = props.ariaHidden;\n\n  var baseImage = /*#__PURE__*/_react.default.createElement(Img, (0, _extends2.default)({\n    ref: ref,\n    src: src\n  }, spreadProps, {\n    ariaHidden: ariaHidden\n  }));\n\n  return imageVariants.length > 1 ? /*#__PURE__*/_react.default.createElement(\"picture\", null, generateSources(imageVariants), baseImage) : baseImage;\n});\n\nvar Img = /*#__PURE__*/_react.default.forwardRef(function (props, ref) {\n  var sizes = props.sizes,\n      srcSet = props.srcSet,\n      src = props.src,\n      style = props.style,\n      onLoad = props.onLoad,\n      onError = props.onError,\n      loading = props.loading,\n      draggable = props.draggable,\n      ariaHidden = props.ariaHidden,\n      otherProps = (0, _objectWithoutPropertiesLoose2.default)(props, [\"sizes\", \"srcSet\", \"src\", \"style\", \"onLoad\", \"onError\", \"loading\", \"draggable\", \"ariaHidden\"]);\n  return /*#__PURE__*/_react.default.createElement(\"img\", (0, _extends2.default)({\n    \"aria-hidden\": ariaHidden,\n    sizes: sizes,\n    srcSet: srcSet,\n    src: src\n  }, otherProps, {\n    onLoad: onLoad,\n    onError: onError,\n    ref: ref,\n    loading: loading,\n    draggable: draggable,\n    style: (0, _extends2.default)({\n      position: \"absolute\",\n      top: 0,\n      left: 0,\n      width: \"100%\",\n      height: \"100%\",\n      objectFit: \"cover\",\n      objectPosition: \"center\"\n    }, style)\n  }));\n});\n\nImg.propTypes = {\n  style: _propTypes.default.object,\n  onError: _propTypes.default.func,\n  onLoad: _propTypes.default.func\n};\n\nvar Image = /*#__PURE__*/function (_React$Component) {\n  (0, _inheritsLoose2.default)(Image, _React$Component);\n\n  function Image(props) {\n    var _this;\n\n    _this = _React$Component.call(this, props) || this; // If this image has already been loaded before then we can assume it's\n    // already in the browser cache so it's cheap to just show directly.\n\n    _this.seenBefore = isBrowser && inImageCache(props);\n    _this.isCritical = props.loading === \"eager\" || props.critical;\n    _this.addNoScript = !(_this.isCritical && !props.fadeIn);\n    _this.useIOSupport = !hasNativeLazyLoadSupport && hasIOSupport && !_this.isCritical && !_this.seenBefore;\n    var isVisible = _this.isCritical || isBrowser && (hasNativeLazyLoadSupport || !_this.useIOSupport);\n    _this.state = {\n      isVisible: isVisible,\n      imgLoaded: false,\n      imgCached: false,\n      fadeIn: !_this.seenBefore && props.fadeIn\n    };\n    _this.imageRef = /*#__PURE__*/_react.default.createRef();\n    _this.placeholderRef = props.placeholderRef || /*#__PURE__*/_react.default.createRef();\n    _this.handleImageLoaded = _this.handleImageLoaded.bind((0, _assertThisInitialized2.default)(_this));\n    _this.handleRef = _this.handleRef.bind((0, _assertThisInitialized2.default)(_this));\n    return _this;\n  }\n\n  var _proto = Image.prototype;\n\n  _proto.componentDidMount = function componentDidMount() {\n    if (this.state.isVisible && typeof this.props.onStartLoad === \"function\") {\n      this.props.onStartLoad({\n        wasCached: inImageCache(this.props)\n      });\n    }\n\n    if (this.isCritical) {\n      var img = this.imageRef.current;\n\n      if (img && img.complete) {\n        this.handleImageLoaded();\n      }\n    }\n  };\n\n  _proto.componentWillUnmount = function componentWillUnmount() {\n    if (this.cleanUpListeners) {\n      this.cleanUpListeners();\n    }\n  } // Specific to IntersectionObserver based lazy-load support\n  ;\n\n  _proto.handleRef = function handleRef(ref) {\n    var _this2 = this;\n\n    if (this.useIOSupport && ref) {\n      this.cleanUpListeners = listenToIntersections(ref, function () {\n        var imageInCache = inImageCache(_this2.props);\n\n        if (!_this2.state.isVisible && typeof _this2.props.onStartLoad === \"function\") {\n          _this2.props.onStartLoad({\n            wasCached: imageInCache\n          });\n        } // imgCached and imgLoaded must update after isVisible,\n        // Once isVisible is true, imageRef becomes accessible, which imgCached needs access to.\n        // imgLoaded and imgCached are in a 2nd setState call to be changed together,\n        // avoiding initiating unnecessary animation frames from style changes.\n\n\n        _this2.setState({\n          isVisible: true\n        }, function () {\n          _this2.setState({\n            imgLoaded: imageInCache,\n            // `currentSrc` should be a string, but can be `undefined` in IE,\n            // !! operator validates the value is not undefined/null/\"\"\n            // for lazyloaded components this might be null\n            // TODO fix imgCached behaviour as it's now false when it's lazyloaded\n            imgCached: !!(_this2.imageRef.current && _this2.imageRef.current.currentSrc)\n          });\n        });\n      });\n    }\n  };\n\n  _proto.handleImageLoaded = function handleImageLoaded() {\n    activateCacheForImage(this.props);\n    this.setState({\n      imgLoaded: true\n    });\n\n    if (this.props.onLoad) {\n      this.props.onLoad();\n    }\n  };\n\n  _proto.render = function render() {\n    var _convertProps = convertProps(this.props),\n        title = _convertProps.title,\n        alt = _convertProps.alt,\n        className = _convertProps.className,\n        _convertProps$style = _convertProps.style,\n        style = _convertProps$style === void 0 ? {} : _convertProps$style,\n        _convertProps$imgStyl = _convertProps.imgStyle,\n        imgStyle = _convertProps$imgStyl === void 0 ? {} : _convertProps$imgStyl,\n        _convertProps$placeho = _convertProps.placeholderStyle,\n        placeholderStyle = _convertProps$placeho === void 0 ? {} : _convertProps$placeho,\n        placeholderClassName = _convertProps.placeholderClassName,\n        fluid = _convertProps.fluid,\n        fixed = _convertProps.fixed,\n        backgroundColor = _convertProps.backgroundColor,\n        durationFadeIn = _convertProps.durationFadeIn,\n        Tag = _convertProps.Tag,\n        itemProp = _convertProps.itemProp,\n        loading = _convertProps.loading,\n        draggable = _convertProps.draggable;\n\n    var shouldReveal = this.state.fadeIn === false || this.state.imgLoaded;\n    var shouldFadeIn = this.state.fadeIn === true && !this.state.imgCached;\n    var imageStyle = (0, _extends2.default)({\n      opacity: shouldReveal ? 1 : 0,\n      transition: shouldFadeIn ? \"opacity \" + durationFadeIn + \"ms\" : \"none\"\n    }, imgStyle);\n    var bgColor = typeof backgroundColor === \"boolean\" ? \"lightgray\" : backgroundColor;\n    var delayHideStyle = {\n      transitionDelay: durationFadeIn + \"ms\"\n    };\n    var imagePlaceholderStyle = (0, _extends2.default)({\n      opacity: this.state.imgLoaded ? 0 : 1\n    }, shouldFadeIn && delayHideStyle, imgStyle, placeholderStyle);\n    var placeholderImageProps = {\n      title: title,\n      alt: !this.state.isVisible ? alt : \"\",\n      style: imagePlaceholderStyle,\n      className: placeholderClassName,\n      itemProp: itemProp\n    };\n\n    if (fluid) {\n      var imageVariants = fluid;\n      var image = getCurrentSrcData(fluid);\n      return /*#__PURE__*/_react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: (0, _extends2.default)({\n          position: \"relative\",\n          overflow: \"hidden\",\n          maxWidth: image.maxWidth ? image.maxWidth + \"px\" : null,\n          maxHeight: image.maxHeight ? image.maxHeight + \"px\" : null\n        }, style),\n        ref: this.handleRef,\n        key: \"fluid-\" + JSON.stringify(image.srcSet)\n      }, /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        style: {\n          width: \"100%\",\n          paddingBottom: 100 / image.aspectRatio + \"%\"\n        }\n      }), bgColor && /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          position: \"absolute\",\n          top: 0,\n          bottom: 0,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          right: 0,\n          left: 0\n        }, shouldFadeIn && delayHideStyle)\n      }), image.base64 && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateBase64Sources\n      }), image.tracedSVG && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && /*#__PURE__*/_react.default.createElement(\"picture\", null, generateImageSources(imageVariants), /*#__PURE__*/_react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        sizes: image.sizes,\n        src: image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, image, {\n            imageVariants: imageVariants\n          }))\n        }\n      }));\n    }\n\n    if (fixed) {\n      var _imageVariants = fixed;\n\n      var _image = getCurrentSrcData(fixed);\n\n      var divStyle = (0, _extends2.default)({\n        position: \"relative\",\n        overflow: \"hidden\",\n        display: \"inline-block\",\n        width: _image.width,\n        height: _image.height\n      }, style);\n\n      if (style.display === \"inherit\") {\n        delete divStyle.display;\n      }\n\n      return /*#__PURE__*/_react.default.createElement(Tag, {\n        className: (className ? className : \"\") + \" gatsby-image-wrapper\",\n        style: divStyle,\n        ref: this.handleRef,\n        key: \"fixed-\" + JSON.stringify(_image.srcSet)\n      }, bgColor && /*#__PURE__*/_react.default.createElement(Tag, {\n        \"aria-hidden\": true,\n        title: title,\n        style: (0, _extends2.default)({\n          backgroundColor: bgColor,\n          width: _image.width,\n          opacity: !this.state.imgLoaded ? 1 : 0,\n          height: _image.height\n        }, shouldFadeIn && delayHideStyle)\n      }), _image.base64 && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: _image.base64,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateBase64Sources\n      }), _image.tracedSVG && /*#__PURE__*/_react.default.createElement(Placeholder, {\n        ariaHidden: true,\n        ref: this.placeholderRef,\n        src: _image.tracedSVG,\n        spreadProps: placeholderImageProps,\n        imageVariants: _imageVariants,\n        generateSources: generateTracedSVGSources\n      }), this.state.isVisible && /*#__PURE__*/_react.default.createElement(\"picture\", null, generateImageSources(_imageVariants), /*#__PURE__*/_react.default.createElement(Img, {\n        alt: alt,\n        title: title,\n        width: _image.width,\n        height: _image.height,\n        sizes: _image.sizes,\n        src: _image.src,\n        crossOrigin: this.props.crossOrigin,\n        srcSet: _image.srcSet,\n        style: imageStyle,\n        ref: this.imageRef,\n        onLoad: this.handleImageLoaded,\n        onError: this.props.onError,\n        itemProp: itemProp,\n        loading: loading,\n        draggable: draggable\n      })), this.addNoScript && /*#__PURE__*/_react.default.createElement(\"noscript\", {\n        dangerouslySetInnerHTML: {\n          __html: noscriptImg((0, _extends2.default)({\n            alt: alt,\n            title: title,\n            loading: loading\n          }, _image, {\n            imageVariants: _imageVariants\n          }))\n        }\n      }));\n    }\n\n    return null;\n  };\n\n  return Image;\n}(_react.default.Component);\n\nImage.defaultProps = {\n  fadeIn: true,\n  durationFadeIn: 500,\n  alt: \"\",\n  Tag: \"div\",\n  // We set it to `lazy` by default because it's best to default to a performant\n  // setting and let the user \"opt out\" to `eager`\n  loading: \"lazy\"\n};\n\nvar fixedObject = _propTypes.default.shape({\n  width: _propTypes.default.number.isRequired,\n  height: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string\n});\n\nvar fluidObject = _propTypes.default.shape({\n  aspectRatio: _propTypes.default.number.isRequired,\n  src: _propTypes.default.string.isRequired,\n  srcSet: _propTypes.default.string.isRequired,\n  sizes: _propTypes.default.string.isRequired,\n  base64: _propTypes.default.string,\n  tracedSVG: _propTypes.default.string,\n  srcWebp: _propTypes.default.string,\n  srcSetWebp: _propTypes.default.string,\n  media: _propTypes.default.string,\n  maxWidth: _propTypes.default.number,\n  maxHeight: _propTypes.default.number\n}); // If you modify these propTypes, please don't forget to update following files as well:\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/index.d.ts\n// https://github.com/gatsbyjs/gatsby/blob/master/packages/gatsby-image/README.md#gatsby-image-props\n// https://github.com/gatsbyjs/gatsby/blob/master/docs/docs/gatsby-image.md#gatsby-image-props\n\n\nImage.propTypes = {\n  resolutions: fixedObject,\n  sizes: fluidObject,\n  fixed: _propTypes.default.oneOfType([fixedObject, _propTypes.default.arrayOf(fixedObject)]),\n  fluid: _propTypes.default.oneOfType([fluidObject, _propTypes.default.arrayOf(fluidObject)]),\n  fadeIn: _propTypes.default.bool,\n  durationFadeIn: _propTypes.default.number,\n  title: _propTypes.default.string,\n  alt: _propTypes.default.string,\n  className: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.object]),\n  // Support Glamor's css prop.\n  critical: _propTypes.default.bool,\n  crossOrigin: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  style: _propTypes.default.object,\n  imgStyle: _propTypes.default.object,\n  placeholderStyle: _propTypes.default.object,\n  placeholderClassName: _propTypes.default.string,\n  backgroundColor: _propTypes.default.oneOfType([_propTypes.default.string, _propTypes.default.bool]),\n  onLoad: _propTypes.default.func,\n  onError: _propTypes.default.func,\n  onStartLoad: _propTypes.default.func,\n  Tag: _propTypes.default.string,\n  itemProp: _propTypes.default.string,\n  loading: _propTypes.default.oneOf([\"auto\", \"lazy\", \"eager\"]),\n  draggable: _propTypes.default.bool\n};\nvar _default = Image;\nexports.default = _default;","import React from \"react\"\nimport { useStaticQuery, graphql } from \"gatsby\"\nimport Img from \"gatsby-image\"\n\nconst Image = () => {\n  const data = useStaticQuery(graphql`\n    query {\n      placeholderImage: file(relativePath: { eq: \"gatsby-astronaut.png\" }) {\n        childImageSharp {\n          fluid(maxWidth: 300) {\n            ...GatsbyImageSharpFluid\n          }\n        }\n      }\n    }\n  `)\n\n  return <Img fluid={data.placeholderImage.childImageSharp.fluid} />\n}\n\nexport default Image\n","export default function _taggedTemplateLiteralLoose(strings, raw) {\n  if (!raw) {\n    raw = strings.slice(0);\n  }\n\n  strings.raw = raw;\n  return strings;\n}","import React from \"react\"\nimport { Link, graphql } from \"gatsby\"\nimport { useQuery } from '@apollo/react-hooks';\nimport gql from 'graphql-tag';\n\nimport Layout from \"../components/layout\"\nimport Image from \"../components/image\"\nimport SEO from \"../components/seo\"\nimport { rhythm } from \"../utils/typography\"\n\n\nexport const pageQuery = graphql`\n  query {\n    site {\n      siteMetadata {\n        title\n      }\n    }\n    allMarkdownRemark(sort: { fields: [frontmatter___date], order: DESC }) {\n      edges {\n        node {\n          excerpt\n          fields {\n            slug\n          }\n          frontmatter {\n            date(formatString: \"MMMM DD, YYYY\")\n            title\n            description\n          }\n        }\n      }\n    }\n  }\n`\n\nexport const APOLLO_QUERY = gql`\n  {\n    meme(where: { id: \"cjke2xlf9nhd90953khilyzja\" }) {\n      photo {\n        url(\n          transformation: {\n            image: { resize: { width: 600, height: 600, fit: crop } }\n          }\n        )\n      }\n    }\n  }\n`;\n\n\nconst CSRTest = ({data, loading, error}: any) => (\n  <div style={{ textAlign: 'center', width: '600px', margin: '50px auto' }}>\n      <p style={{ fontFamily: \"Arial\" }}>\n        This a test to use client side rendering using apollo graphql in gatsby.\n        The image below is loaded from a remote graphql api which simulates an async\n        call of a service in a so called static gatsby rendered site.\n      </p>\n\n      <div>\n        {loading && <p>Loading Sara...</p>}\n        {error && <p>Error: ${error.message}</p>}\n        {data && data.meme && data.meme.photo && (\n          <img\n            src={data.meme.photo.url}\n            alt=\"Sara Vieira\"\n            style={{ maxWidth: 300 }}\n          />\n        )}\n      </div>\n    </div>\n)\n\n\n\n// @ts-ignore\nconst IndexPage = ({ data, location }) => {\n  const siteTitle = data.site.siteMetadata.title\n  const posts = data.allMarkdownRemark.edges\n  const apolloQuery = useQuery(APOLLO_QUERY);\n\n  return (\n    <Layout location={{ pathname: \"/\" }} title={siteTitle}>\n      <SEO title=\"Home\" />\n      <h1>Welcome to the Demo</h1>\n      <p style={{ fontFamily: \"Arial\" }}>\n        The COVID-19 pandemic in Singapore has impacted many of us financially.\n        We understand that during this difficult period, some of us may find it\n        hard to pay for our insurance premiums. Yet, we know this is precisely\n        the time when everyone needs crucial insurance protection and coverage.\n      </p>\n\n      <div style={{ maxWidth: `300px`, marginBottom: `1.45rem` }}>\n        <Link style={{ boxShadow: `none`, fontFamily: \"Arial\" }} to=\"/blog\">\n          <button>See Wordpress Pages</button>\n        </Link>\n        <br></br>\n        <br></br>\n        <Link\n          style={{ boxShadow: `none`, fontFamily: \"Arial\" }}\n          to=\"/app/test-dynamic-api/1\"\n        >\n          <button>Test Dynamic API</button>\n        </Link>\n        <Image />\n      </div>\n\n      <h2>Static Markdown Blog Entry</h2>\n      <hr></hr>\n\n      {posts.map(({ node }) => {\n        const title = node.frontmatter.title || node.fields.slug\n        return (\n          <article key={node.fields.slug}>\n            <header>\n              <h3\n                style={{\n                  marginBottom: rhythm(1 / 4),\n                }}\n              >\n                <Link style={{ boxShadow: `none` }} to={node.fields.slug}>\n                  {title}\n                </Link>\n              </h3>\n              <small>{node.frontmatter.date}</small>\n            </header>\n            <section>\n              <p\n                style={{ fontFamily: \"Arial\" }}\n                dangerouslySetInnerHTML={{\n                  __html: node.frontmatter.description || node.excerpt,\n                }}\n              />\n            </section>\n          </article>\n        )\n      })}\n\n\n\n      <h1 style={{\"paddingTop\": 100, color:'gray'}}>CSR with Apollo GraphQL</h1>\n      <hr></hr>\n\n      <CSRTest data={apolloQuery.data} error={apolloQuery.error} loading={apolloQuery.loading}/>\n\n\n\n      <pre>\n        <Link to=\"/page-2/\">Click here to visit another page</Link>\n      </pre>\n    </Layout>\n  )\n}\n\nexport default IndexPage\n\n\n","import { parser, operationName, DocumentType, getApolloContext } from '@apollo/react-common';\nexport { ApolloConsumer, ApolloProvider, getApolloContext, resetApolloContext } from '@apollo/react-common';\nimport { __extends, __assign } from 'tslib';\nimport React, { useRef, useContext, useReducer, useEffect, useState } from 'react';\nimport { NetworkStatus, ApolloError } from 'apollo-client';\nimport { equal } from '@wry/equality';\nimport { invariant } from 'ts-invariant';\n\nvar OperationData = function () {\n  function OperationData(options, context) {\n    this.isMounted = false;\n    this.previousOptions = {};\n    this.context = {};\n    this.options = {};\n    this.options = options || {};\n    this.context = context || {};\n  }\n\n  OperationData.prototype.getOptions = function () {\n    return this.options;\n  };\n\n  OperationData.prototype.setOptions = function (newOptions, storePrevious) {\n    if (storePrevious === void 0) {\n      storePrevious = false;\n    }\n\n    if (storePrevious && !equal(this.options, newOptions)) {\n      this.previousOptions = this.options;\n    }\n\n    this.options = newOptions;\n  };\n\n  OperationData.prototype.unmount = function () {\n    this.isMounted = false;\n  };\n\n  OperationData.prototype.refreshClient = function () {\n    var client = this.options && this.options.client || this.context && this.context.client;\n    process.env.NODE_ENV === \"production\" ? invariant(!!client, 2) : invariant(!!client, 'Could not find \"client\" in the context or passed in as an option. ' + 'Wrap the root component in an <ApolloProvider>, or pass an ' + 'ApolloClient instance in via options.');\n    var isNew = false;\n\n    if (client !== this.client) {\n      isNew = true;\n      this.client = client;\n      this.cleanup();\n    }\n\n    return {\n      client: this.client,\n      isNew: isNew\n    };\n  };\n\n  OperationData.prototype.verifyDocumentType = function (document, type) {\n    var operation = parser(document);\n    var requiredOperationName = operationName(type);\n    var usedOperationName = operationName(operation.type);\n    process.env.NODE_ENV === \"production\" ? invariant(operation.type === type, 3) : invariant(operation.type === type, \"Running a \" + requiredOperationName + \" requires a graphql \" + (requiredOperationName + \", but a \" + usedOperationName + \" was used instead.\"));\n  };\n\n  return OperationData;\n}();\n\nvar QueryData = function (_super) {\n  __extends(QueryData, _super);\n\n  function QueryData(_a) {\n    var options = _a.options,\n        context = _a.context,\n        onNewData = _a.onNewData;\n\n    var _this = _super.call(this, options, context) || this;\n\n    _this.previousData = {};\n    _this.currentObservable = {};\n    _this.runLazy = false;\n\n    _this.runLazyQuery = function (options) {\n      _this.cleanup();\n\n      _this.runLazy = true;\n      _this.lazyOptions = options;\n\n      _this.onNewData();\n    };\n\n    _this.getExecuteResult = function () {\n      var result = _this.getQueryResult();\n\n      _this.startQuerySubscription();\n\n      return result;\n    };\n\n    _this.obsRefetch = function (variables) {\n      return _this.currentObservable.query.refetch(variables);\n    };\n\n    _this.obsFetchMore = function (fetchMoreOptions) {\n      return _this.currentObservable.query.fetchMore(fetchMoreOptions);\n    };\n\n    _this.obsUpdateQuery = function (mapFn) {\n      return _this.currentObservable.query.updateQuery(mapFn);\n    };\n\n    _this.obsStartPolling = function (pollInterval) {\n      _this.currentObservable && _this.currentObservable.query && _this.currentObservable.query.startPolling(pollInterval);\n    };\n\n    _this.obsStopPolling = function () {\n      _this.currentObservable && _this.currentObservable.query && _this.currentObservable.query.stopPolling();\n    };\n\n    _this.obsSubscribeToMore = function (options) {\n      return _this.currentObservable.query.subscribeToMore(options);\n    };\n\n    _this.onNewData = onNewData;\n    return _this;\n  }\n\n  QueryData.prototype.execute = function () {\n    this.refreshClient();\n\n    var _a = this.getOptions(),\n        skip = _a.skip,\n        query = _a.query;\n\n    if (skip || query !== this.previousData.query) {\n      this.removeQuerySubscription();\n      this.previousData.query = query;\n    }\n\n    this.updateObservableQuery();\n    if (this.isMounted) this.startQuerySubscription();\n    return this.getExecuteSsrResult() || this.getExecuteResult();\n  };\n\n  QueryData.prototype.executeLazy = function () {\n    return !this.runLazy ? [this.runLazyQuery, {\n      loading: false,\n      networkStatus: NetworkStatus.ready,\n      called: false,\n      data: undefined\n    }] : [this.runLazyQuery, this.execute()];\n  };\n\n  QueryData.prototype.fetchData = function () {\n    var options = this.getOptions();\n    if (options.skip || options.ssr === false) return false;\n    var obs = this.currentObservable.query;\n    var currentResult = obs.getCurrentResult();\n    return currentResult.loading ? obs.result() : false;\n  };\n\n  QueryData.prototype.afterExecute = function (_a) {\n    var _b = (_a === void 0 ? {} : _a).lazy,\n        lazy = _b === void 0 ? false : _b;\n    this.isMounted = true;\n\n    if (!lazy || this.runLazy) {\n      this.handleErrorOrCompleted();\n    }\n\n    this.previousOptions = this.getOptions();\n    return this.unmount.bind(this);\n  };\n\n  QueryData.prototype.cleanup = function () {\n    this.removeQuerySubscription();\n    delete this.currentObservable.query;\n    delete this.previousData.result;\n  };\n\n  QueryData.prototype.getOptions = function () {\n    var options = _super.prototype.getOptions.call(this);\n\n    if (this.lazyOptions) {\n      options.variables = __assign(__assign({}, options.variables), this.lazyOptions.variables);\n      options.context = __assign(__assign({}, options.context), this.lazyOptions.context);\n    }\n\n    if (this.runLazy) {\n      delete options.skip;\n    }\n\n    return options;\n  };\n\n  QueryData.prototype.ssrInitiated = function () {\n    return this.context && this.context.renderPromises;\n  };\n\n  QueryData.prototype.getExecuteSsrResult = function () {\n    var ssrDisabled = this.getOptions().ssr === false;\n    var fetchDisabled = this.refreshClient().client.disableNetworkFetches;\n\n    var ssrLoading = __assign({\n      loading: true,\n      networkStatus: NetworkStatus.loading,\n      called: true,\n      data: undefined,\n      stale: false,\n      client: this.client\n    }, this.observableQueryFields());\n\n    if (ssrDisabled && (this.ssrInitiated() || fetchDisabled)) {\n      this.previousData.result = ssrLoading;\n      return ssrLoading;\n    }\n\n    var result;\n\n    if (this.ssrInitiated()) {\n      result = this.context.renderPromises.addQueryPromise(this, this.getExecuteResult) || ssrLoading;\n    }\n\n    return result;\n  };\n\n  QueryData.prototype.prepareObservableQueryOptions = function () {\n    var options = this.getOptions();\n    this.verifyDocumentType(options.query, DocumentType.Query);\n    var displayName = options.displayName || 'Query';\n\n    if (this.ssrInitiated() && (options.fetchPolicy === 'network-only' || options.fetchPolicy === 'cache-and-network')) {\n      options.fetchPolicy = 'cache-first';\n    }\n\n    return __assign(__assign({}, options), {\n      displayName: displayName,\n      context: options.context,\n      metadata: {\n        reactComponent: {\n          displayName: displayName\n        }\n      }\n    });\n  };\n\n  QueryData.prototype.initializeObservableQuery = function () {\n    var _a, _b;\n\n    if (this.ssrInitiated()) {\n      this.currentObservable.query = this.context.renderPromises.getSSRObservable(this.getOptions());\n    }\n\n    if (!this.currentObservable.query) {\n      var observableQueryOptions = this.prepareObservableQueryOptions();\n      this.previousData.observableQueryOptions = __assign(__assign({}, observableQueryOptions), {\n        children: null\n      });\n      this.currentObservable.query = this.refreshClient().client.watchQuery(__assign({}, observableQueryOptions));\n\n      if (this.ssrInitiated()) {\n        (_b = (_a = this.context) === null || _a === void 0 ? void 0 : _a.renderPromises) === null || _b === void 0 ? void 0 : _b.registerSSRObservable(this.currentObservable.query, observableQueryOptions);\n      }\n    }\n  };\n\n  QueryData.prototype.updateObservableQuery = function () {\n    if (!this.currentObservable.query) {\n      this.initializeObservableQuery();\n      return;\n    }\n\n    var newObservableQueryOptions = __assign(__assign({}, this.prepareObservableQueryOptions()), {\n      children: null\n    });\n\n    if (!equal(newObservableQueryOptions, this.previousData.observableQueryOptions)) {\n      this.previousData.observableQueryOptions = newObservableQueryOptions;\n      this.currentObservable.query.setOptions(newObservableQueryOptions).catch(function () {});\n    }\n  };\n\n  QueryData.prototype.startQuerySubscription = function () {\n    var _this = this;\n\n    if (this.currentObservable.subscription || this.getOptions().skip) return;\n    var obsQuery = this.currentObservable.query;\n    this.currentObservable.subscription = obsQuery.subscribe({\n      next: function next(_a) {\n        var loading = _a.loading,\n            networkStatus = _a.networkStatus,\n            data = _a.data;\n        var previousResult = _this.previousData.result;\n\n        if (previousResult && previousResult.loading === loading && previousResult.networkStatus === networkStatus && equal(previousResult.data, data)) {\n          return;\n        }\n\n        _this.onNewData();\n      },\n      error: function error(_error) {\n        _this.resubscribeToQuery();\n\n        if (!_error.hasOwnProperty('graphQLErrors')) throw _error;\n        var previousResult = _this.previousData.result;\n\n        if (previousResult && previousResult.loading || !equal(_error, _this.previousData.error)) {\n          _this.previousData.error = _error;\n\n          _this.onNewData();\n        }\n      }\n    });\n  };\n\n  QueryData.prototype.resubscribeToQuery = function () {\n    this.removeQuerySubscription();\n    var lastError = this.currentObservable.query.getLastError();\n    var lastResult = this.currentObservable.query.getLastResult();\n    this.currentObservable.query.resetLastResults();\n    this.startQuerySubscription();\n    Object.assign(this.currentObservable.query, {\n      lastError: lastError,\n      lastResult: lastResult\n    });\n  };\n\n  QueryData.prototype.getQueryResult = function () {\n    var result = this.observableQueryFields();\n    var options = this.getOptions();\n\n    if (options.skip) {\n      result = __assign(__assign({}, result), {\n        data: undefined,\n        error: undefined,\n        loading: false,\n        called: true\n      });\n    } else {\n      var currentResult = this.currentObservable.query.getCurrentResult();\n      var loading = currentResult.loading,\n          partial = currentResult.partial,\n          networkStatus = currentResult.networkStatus,\n          errors = currentResult.errors;\n      var error = currentResult.error,\n          data = currentResult.data;\n\n      if (errors && errors.length > 0) {\n        error = new ApolloError({\n          graphQLErrors: errors\n        });\n      }\n\n      result = __assign(__assign({}, result), {\n        loading: loading,\n        networkStatus: networkStatus,\n        error: error,\n        called: true\n      });\n\n      if (loading) {\n        var previousData = this.previousData.result && this.previousData.result.data;\n        result.data = previousData && data ? __assign(__assign({}, previousData), data) : previousData || data;\n      } else if (error) {\n        Object.assign(result, {\n          data: (this.currentObservable.query.getLastResult() || {}).data\n        });\n      } else {\n        var fetchPolicy = this.currentObservable.query.options.fetchPolicy;\n        var partialRefetch = options.partialRefetch;\n\n        if (partialRefetch && !data && partial && fetchPolicy !== 'cache-only') {\n          Object.assign(result, {\n            loading: true,\n            networkStatus: NetworkStatus.loading\n          });\n          result.refetch();\n          return result;\n        }\n\n        result.data = data;\n      }\n    }\n\n    result.client = this.client;\n    this.previousData.loading = this.previousData.result && this.previousData.result.loading || false;\n    this.previousData.result = result;\n    this.currentObservable.query && this.currentObservable.query.resetQueryStoreErrors();\n    return result;\n  };\n\n  QueryData.prototype.handleErrorOrCompleted = function () {\n    var obsQuery = this.currentObservable.query;\n    if (!obsQuery || !this.previousData.result) return;\n    var _a = this.previousData.result,\n        data = _a.data,\n        loading = _a.loading,\n        error = _a.error;\n\n    if (!loading) {\n      var _b = this.getOptions(),\n          query = _b.query,\n          variables = _b.variables,\n          onCompleted = _b.onCompleted,\n          onError = _b.onError;\n\n      if (this.previousOptions && !this.previousData.loading && equal(this.previousOptions.query, query) && equal(this.previousOptions.variables, variables)) {\n        return;\n      }\n\n      if (onCompleted && !error) {\n        onCompleted(data);\n      } else if (onError && error) {\n        onError(error);\n      }\n    }\n  };\n\n  QueryData.prototype.removeQuerySubscription = function () {\n    if (this.currentObservable.subscription) {\n      this.currentObservable.subscription.unsubscribe();\n      delete this.currentObservable.subscription;\n    }\n  };\n\n  QueryData.prototype.observableQueryFields = function () {\n    var observable = this.currentObservable.query;\n    return {\n      variables: observable.variables,\n      refetch: this.obsRefetch,\n      fetchMore: this.obsFetchMore,\n      updateQuery: this.obsUpdateQuery,\n      startPolling: this.obsStartPolling,\n      stopPolling: this.obsStopPolling,\n      subscribeToMore: this.obsSubscribeToMore\n    };\n  };\n\n  return QueryData;\n}(OperationData);\n\nfunction useDeepMemo(memoFn, key) {\n  var ref = useRef();\n\n  if (!ref.current || !equal(key, ref.current.key)) {\n    ref.current = {\n      key: key,\n      value: memoFn()\n    };\n  }\n\n  return ref.current.value;\n}\n\nfunction useBaseQuery(query, options, lazy) {\n  if (lazy === void 0) {\n    lazy = false;\n  }\n\n  var context = useContext(getApolloContext());\n\n  var _a = useReducer(function (x) {\n    return x + 1;\n  }, 0),\n      tick = _a[0],\n      forceUpdate = _a[1];\n\n  var updatedOptions = options ? __assign(__assign({}, options), {\n    query: query\n  }) : {\n    query: query\n  };\n  var queryDataRef = useRef();\n  var queryData = queryDataRef.current || new QueryData({\n    options: updatedOptions,\n    context: context,\n    onNewData: function onNewData() {\n      if (!queryData.ssrInitiated()) {\n        Promise.resolve().then(forceUpdate);\n      } else {\n        forceUpdate();\n      }\n    }\n  });\n  queryData.setOptions(updatedOptions);\n  queryData.context = context;\n\n  if (queryData.ssrInitiated() && !queryDataRef.current) {\n    queryDataRef.current = queryData;\n  }\n\n  var memo = {\n    options: __assign(__assign({}, updatedOptions), {\n      onError: undefined,\n      onCompleted: undefined\n    }),\n    context: context,\n    tick: tick\n  };\n  var result = useDeepMemo(function () {\n    return lazy ? queryData.executeLazy() : queryData.execute();\n  }, memo);\n  var queryResult = lazy ? result[1] : result;\n  useEffect(function () {\n    if (!queryDataRef.current) {\n      queryDataRef.current = queryData;\n    }\n\n    return function () {\n      return queryData.cleanup();\n    };\n  }, []);\n  useEffect(function () {\n    return queryData.afterExecute({\n      lazy: lazy\n    });\n  }, [queryResult.loading, queryResult.networkStatus, queryResult.error, queryResult.data]);\n  return result;\n}\n\nfunction useQuery(query, options) {\n  return useBaseQuery(query, options, false);\n}\n\nfunction useLazyQuery(query, options) {\n  return useBaseQuery(query, options, true);\n}\n\nvar MutationData = function (_super) {\n  __extends(MutationData, _super);\n\n  function MutationData(_a) {\n    var options = _a.options,\n        context = _a.context,\n        result = _a.result,\n        setResult = _a.setResult;\n\n    var _this = _super.call(this, options, context) || this;\n\n    _this.runMutation = function (mutationFunctionOptions) {\n      if (mutationFunctionOptions === void 0) {\n        mutationFunctionOptions = {};\n      }\n\n      _this.onMutationStart();\n\n      var mutationId = _this.generateNewMutationId();\n\n      return _this.mutate(mutationFunctionOptions).then(function (response) {\n        _this.onMutationCompleted(response, mutationId);\n\n        return response;\n      }).catch(function (error) {\n        _this.onMutationError(error, mutationId);\n\n        if (!_this.getOptions().onError) throw error;\n      });\n    };\n\n    _this.verifyDocumentType(options.mutation, DocumentType.Mutation);\n\n    _this.result = result;\n    _this.setResult = setResult;\n    _this.mostRecentMutationId = 0;\n    return _this;\n  }\n\n  MutationData.prototype.execute = function (result) {\n    this.isMounted = true;\n    this.verifyDocumentType(this.getOptions().mutation, DocumentType.Mutation);\n    result.client = this.refreshClient().client;\n    return [this.runMutation, result];\n  };\n\n  MutationData.prototype.afterExecute = function () {\n    this.isMounted = true;\n    return this.unmount.bind(this);\n  };\n\n  MutationData.prototype.cleanup = function () {};\n\n  MutationData.prototype.mutate = function (mutationFunctionOptions) {\n    var _a = this.getOptions(),\n        mutation = _a.mutation,\n        variables = _a.variables,\n        optimisticResponse = _a.optimisticResponse,\n        update = _a.update,\n        _b = _a.context,\n        mutationContext = _b === void 0 ? {} : _b,\n        _c = _a.awaitRefetchQueries,\n        awaitRefetchQueries = _c === void 0 ? false : _c,\n        fetchPolicy = _a.fetchPolicy;\n\n    var mutateOptions = __assign({}, mutationFunctionOptions);\n\n    var mutateVariables = Object.assign({}, variables, mutateOptions.variables);\n    delete mutateOptions.variables;\n    return this.refreshClient().client.mutate(__assign({\n      mutation: mutation,\n      optimisticResponse: optimisticResponse,\n      refetchQueries: mutateOptions.refetchQueries || this.getOptions().refetchQueries,\n      awaitRefetchQueries: awaitRefetchQueries,\n      update: update,\n      context: mutationContext,\n      fetchPolicy: fetchPolicy,\n      variables: mutateVariables\n    }, mutateOptions));\n  };\n\n  MutationData.prototype.onMutationStart = function () {\n    if (!this.result.loading && !this.getOptions().ignoreResults) {\n      this.updateResult({\n        loading: true,\n        error: undefined,\n        data: undefined,\n        called: true\n      });\n    }\n  };\n\n  MutationData.prototype.onMutationCompleted = function (response, mutationId) {\n    var _a = this.getOptions(),\n        onCompleted = _a.onCompleted,\n        ignoreResults = _a.ignoreResults;\n\n    var data = response.data,\n        errors = response.errors;\n    var error = errors && errors.length > 0 ? new ApolloError({\n      graphQLErrors: errors\n    }) : undefined;\n\n    var callOncomplete = function callOncomplete() {\n      return onCompleted ? onCompleted(data) : null;\n    };\n\n    if (this.isMostRecentMutation(mutationId) && !ignoreResults) {\n      this.updateResult({\n        called: true,\n        loading: false,\n        data: data,\n        error: error\n      });\n    }\n\n    callOncomplete();\n  };\n\n  MutationData.prototype.onMutationError = function (error, mutationId) {\n    var onError = this.getOptions().onError;\n\n    if (this.isMostRecentMutation(mutationId)) {\n      this.updateResult({\n        loading: false,\n        error: error,\n        data: undefined,\n        called: true\n      });\n    }\n\n    if (onError) {\n      onError(error);\n    }\n  };\n\n  MutationData.prototype.generateNewMutationId = function () {\n    return ++this.mostRecentMutationId;\n  };\n\n  MutationData.prototype.isMostRecentMutation = function (mutationId) {\n    return this.mostRecentMutationId === mutationId;\n  };\n\n  MutationData.prototype.updateResult = function (result) {\n    if (this.isMounted && (!this.previousResult || !equal(this.previousResult, result))) {\n      this.setResult(result);\n      this.previousResult = result;\n    }\n  };\n\n  return MutationData;\n}(OperationData);\n\nfunction useMutation(mutation, options) {\n  var context = useContext(getApolloContext());\n\n  var _a = useState({\n    called: false,\n    loading: false\n  }),\n      result = _a[0],\n      setResult = _a[1];\n\n  var updatedOptions = options ? __assign(__assign({}, options), {\n    mutation: mutation\n  }) : {\n    mutation: mutation\n  };\n  var mutationDataRef = useRef();\n\n  function getMutationDataRef() {\n    if (!mutationDataRef.current) {\n      mutationDataRef.current = new MutationData({\n        options: updatedOptions,\n        context: context,\n        result: result,\n        setResult: setResult\n      });\n    }\n\n    return mutationDataRef.current;\n  }\n\n  var mutationData = getMutationDataRef();\n  mutationData.setOptions(updatedOptions);\n  mutationData.context = context;\n  useEffect(function () {\n    return mutationData.afterExecute();\n  });\n  return mutationData.execute(result);\n}\n\nvar SubscriptionData = function (_super) {\n  __extends(SubscriptionData, _super);\n\n  function SubscriptionData(_a) {\n    var options = _a.options,\n        context = _a.context,\n        setResult = _a.setResult;\n\n    var _this = _super.call(this, options, context) || this;\n\n    _this.currentObservable = {};\n    _this.setResult = setResult;\n\n    _this.initialize(options);\n\n    return _this;\n  }\n\n  SubscriptionData.prototype.execute = function (result) {\n    if (this.getOptions().skip === true) {\n      this.cleanup();\n      return {\n        loading: false,\n        error: undefined,\n        data: undefined,\n        variables: this.getOptions().variables\n      };\n    }\n\n    var currentResult = result;\n\n    if (this.refreshClient().isNew) {\n      currentResult = this.getLoadingResult();\n    }\n\n    var shouldResubscribe = this.getOptions().shouldResubscribe;\n\n    if (typeof shouldResubscribe === 'function') {\n      shouldResubscribe = !!shouldResubscribe(this.getOptions());\n    }\n\n    if (shouldResubscribe !== false && this.previousOptions && Object.keys(this.previousOptions).length > 0 && (this.previousOptions.subscription !== this.getOptions().subscription || !equal(this.previousOptions.variables, this.getOptions().variables) || this.previousOptions.skip !== this.getOptions().skip)) {\n      this.cleanup();\n      currentResult = this.getLoadingResult();\n    }\n\n    this.initialize(this.getOptions());\n    this.startSubscription();\n    this.previousOptions = this.getOptions();\n    return __assign(__assign({}, currentResult), {\n      variables: this.getOptions().variables\n    });\n  };\n\n  SubscriptionData.prototype.afterExecute = function () {\n    this.isMounted = true;\n  };\n\n  SubscriptionData.prototype.cleanup = function () {\n    this.endSubscription();\n    delete this.currentObservable.query;\n  };\n\n  SubscriptionData.prototype.initialize = function (options) {\n    if (this.currentObservable.query || this.getOptions().skip === true) return;\n    this.currentObservable.query = this.refreshClient().client.subscribe({\n      query: options.subscription,\n      variables: options.variables,\n      fetchPolicy: options.fetchPolicy\n    });\n  };\n\n  SubscriptionData.prototype.startSubscription = function () {\n    if (this.currentObservable.subscription) return;\n    this.currentObservable.subscription = this.currentObservable.query.subscribe({\n      next: this.updateCurrentData.bind(this),\n      error: this.updateError.bind(this),\n      complete: this.completeSubscription.bind(this)\n    });\n  };\n\n  SubscriptionData.prototype.getLoadingResult = function () {\n    return {\n      loading: true,\n      error: undefined,\n      data: undefined\n    };\n  };\n\n  SubscriptionData.prototype.updateResult = function (result) {\n    if (this.isMounted) {\n      this.setResult(result);\n    }\n  };\n\n  SubscriptionData.prototype.updateCurrentData = function (result) {\n    var onSubscriptionData = this.getOptions().onSubscriptionData;\n    this.updateResult({\n      data: result.data,\n      loading: false,\n      error: undefined\n    });\n\n    if (onSubscriptionData) {\n      onSubscriptionData({\n        client: this.refreshClient().client,\n        subscriptionData: result\n      });\n    }\n  };\n\n  SubscriptionData.prototype.updateError = function (error) {\n    this.updateResult({\n      error: error,\n      loading: false\n    });\n  };\n\n  SubscriptionData.prototype.completeSubscription = function () {\n    var onSubscriptionComplete = this.getOptions().onSubscriptionComplete;\n    if (onSubscriptionComplete) onSubscriptionComplete();\n    this.endSubscription();\n  };\n\n  SubscriptionData.prototype.endSubscription = function () {\n    if (this.currentObservable.subscription) {\n      this.currentObservable.subscription.unsubscribe();\n      delete this.currentObservable.subscription;\n    }\n  };\n\n  return SubscriptionData;\n}(OperationData);\n\nfunction useSubscription(subscription, options) {\n  var context = useContext(getApolloContext());\n  var updatedOptions = options ? __assign(__assign({}, options), {\n    subscription: subscription\n  }) : {\n    subscription: subscription\n  };\n\n  var _a = useState({\n    loading: !updatedOptions.skip,\n    error: undefined,\n    data: undefined\n  }),\n      result = _a[0],\n      setResult = _a[1];\n\n  var subscriptionDataRef = useRef();\n\n  function getSubscriptionDataRef() {\n    if (!subscriptionDataRef.current) {\n      subscriptionDataRef.current = new SubscriptionData({\n        options: updatedOptions,\n        context: context,\n        setResult: setResult\n      });\n    }\n\n    return subscriptionDataRef.current;\n  }\n\n  var subscriptionData = getSubscriptionDataRef();\n  subscriptionData.setOptions(updatedOptions, true);\n  subscriptionData.context = context;\n  useEffect(function () {\n    return subscriptionData.afterExecute();\n  });\n  useEffect(function () {\n    return subscriptionData.cleanup.bind(subscriptionData);\n  }, []);\n  return subscriptionData.execute(result);\n}\n\nfunction useApolloClient() {\n  var client = React.useContext(getApolloContext()).client;\n  process.env.NODE_ENV === \"production\" ? invariant(client, 1) : invariant(client, 'No Apollo Client instance can be found. Please ensure that you ' + 'have called `ApolloProvider` higher up in your tree.');\n  return client;\n}\n\nfunction makeDefaultQueryInfo() {\n  return {\n    seen: false,\n    observable: null\n  };\n}\n\nvar RenderPromises = function () {\n  function RenderPromises() {\n    this.queryPromises = new Map();\n    this.queryInfoTrie = new Map();\n  }\n\n  RenderPromises.prototype.registerSSRObservable = function (observable, props) {\n    this.lookupQueryInfo(props).observable = observable;\n  };\n\n  RenderPromises.prototype.getSSRObservable = function (props) {\n    return this.lookupQueryInfo(props).observable;\n  };\n\n  RenderPromises.prototype.addQueryPromise = function (queryInstance, finish) {\n    var info = this.lookupQueryInfo(queryInstance.getOptions());\n\n    if (!info.seen) {\n      this.queryPromises.set(queryInstance.getOptions(), new Promise(function (resolve) {\n        resolve(queryInstance.fetchData());\n      }));\n      return null;\n    }\n\n    return finish();\n  };\n\n  RenderPromises.prototype.hasPromises = function () {\n    return this.queryPromises.size > 0;\n  };\n\n  RenderPromises.prototype.consumeAndAwaitPromises = function () {\n    var _this = this;\n\n    var promises = [];\n    this.queryPromises.forEach(function (promise, queryInstance) {\n      _this.lookupQueryInfo(queryInstance).seen = true;\n      promises.push(promise);\n    });\n    this.queryPromises.clear();\n    return Promise.all(promises);\n  };\n\n  RenderPromises.prototype.lookupQueryInfo = function (props) {\n    var queryInfoTrie = this.queryInfoTrie;\n    var query = props.query,\n        variables = props.variables;\n    var varMap = queryInfoTrie.get(query) || new Map();\n    if (!queryInfoTrie.has(query)) queryInfoTrie.set(query, varMap);\n    var variablesString = JSON.stringify(variables);\n    var info = varMap.get(variablesString) || makeDefaultQueryInfo();\n    if (!varMap.has(variablesString)) varMap.set(variablesString, info);\n    return info;\n  };\n\n  return RenderPromises;\n}();\n\nexport { RenderPromises, useApolloClient, useLazyQuery, useMutation, useQuery, useSubscription };"],"sourceRoot":""}